<html>

<head>
    <title>
    </title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(function() {
            var fullWidth = 864; //Width in pixels of full sized image
            var fullHeight = 648; //Height in pixels of full sized image
            var thumbnailWidth = 389; //Width in pixels of thumbnail image
            var thumbnailHeight = 292; //Height in pixels of thumbnail image

            //Set size of div
            /*$('#picture').css({
                'width': thumbnailWidth + 'px',
                'height': thumbnailHeight + 'px'
            })*/
            
            //Set size of div
             $('#picture').css({
                'width': fullWidth+ 'px',
                'height': fullHeight + 'px'
            })

            //hide full sized picture
            $('#full').hide();

            //toggle pictures on click
            $('#picture').click(function() {
                $('#thumbnail').toggle();
                $('#full').toggle();
            });

            //do some calculations to move magnifies (full) image with mouse

            //Move large version of the picture, following mouse movement
            $('#picture').mousemove(function(e) {
                
                
                //console.log(e);
                // $(this).attr('offsetLeft') not working for me so I changed it, see below
                //var mouseX = e.pageX - $(this).attr('offsetLeft');
                //var mouseY = e.pageY - $(this).attr('offsetTop');
                var mouseX = e.pageX;
                var mouseY = e.pageY;

                var posX = (Math.round((mouseX / thumbnailWidth) * 100) / 100) * (fullWidth - thumbnailWidth);
                var posY = (Math.round((mouseY / thumbnailHeight) * 100) / 100) * (fullHeight - thumbnailHeight);

                //re-postion full sized image relative to poosition of mouse,as mouse moves 
                $('#full').css({
                    'left': '-' + posX + 'px',
                    'top': '-' + posY + 'px'
                })
                

            });
        })
    </script>

    <style>
        #picture {
            overflow: hidden;
            position: relative;
            border: 10px solid black;
        }

        #thumbnail {
            cursor: pointer;
            height: 200px;
            width: 200px;
        }

        #full {
            position: relative;
            cursor: crosshair;
        }
    </style>

</head>

<body>
    <div id='picture'>
        <img id="thumbnail" src="a.jpg">
        <img id="full" src="a.jpg">

    </div>
</body></html>
